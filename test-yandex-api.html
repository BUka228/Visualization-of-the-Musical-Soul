<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç Yandex Music API</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .container {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .warning {
            background: #ff9800;
            color: #000;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        button {
            background: #4fc3f7;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        button:hover {
            background: #29b6f6;
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        .log {
            background: #000;
            color: #0f0;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 500px;
            overflow-y: auto;
            margin-top: 10px;
            font-size: 12px;
            line-height: 1.4;
        }
        .error {
            color: #f44;
        }
        .success {
            color: #4f4;
        }
        .info {
            color: #4af;
        }
        .warning-text {
            color: #ff9;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background: #333;
            color: #fff;
            border: 1px solid #555;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .instructions {
            background: #333;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #4fc3f7;
        }
        .code-block {
            background: #000;
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üéµ –¢–µ—Å—Ç Yandex Music API</h1>
    
    <div class="warning">
        ‚ö†Ô∏è –í–ê–ñ–ù–û: –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –¥–æ–º–µ–Ω–µ music.yandex.ru –∏–ª–∏ localhost —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º!
    </div>

    <div class="instructions">
        <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:</h3>
        <ol>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ <strong>music.yandex.ru</strong> –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</li>
            <li>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏</li>
            <li>–í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É</li>
            <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîß –ü—Ä—è–º–æ–π —Ç–µ—Å—Ç API" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
        </ol>
        
        <p><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±:</strong></p>
        <div class="code-block">
// –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ music.yandex.ru:
testYandexMusicAPI();
        </div>
    </div>
    
    <div class="container">
        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        <label>–¢–æ–∫–µ–Ω:</label>
        <input type="text" id="tokenInput" value="available" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω">
        
        <div>
            <button onclick="testDirectAPI()">üîß –ü—Ä—è–º–æ–π —Ç–µ—Å—Ç API</button>
            <button onclick="testAPI()">üöÄ –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –Ω–∞—à API</button>
            <button onclick="runBrowserTest()">üåê –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ç–µ—Å—Ç</button>
            <button onclick="clearLog()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
        </div>
    </div>

    <div class="container">
        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
        <div id="results">
            <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        </div>
    </div>

    <div class="container">
        <h3>–õ–æ–≥</h3>
        <div id="log" class="log">–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é...\n</div>
    </div>

    <script>
        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const className = type === 'error' ? 'error' : type === 'success' ? 'success' : type === 'warning' ? 'warning-text' : 'info';
            logDiv.innerHTML += `<span class="${className}">[${timestamp}] ${message}</span>\n`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '–õ–æ–≥ –æ—á–∏—â–µ–Ω...\n';
            document.getElementById('results').innerHTML = '<p>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã</p>';
        }

        async function testAPI() {
            const token = document.getElementById('tokenInput').value.trim();
            if (!token) {
                log('–û—à–∏–±–∫–∞: –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω', 'error');
                return;
            }

            log('–ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ –Ω–∞—à Vercel API...', 'info');
            log(`–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–∫–µ–Ω: ${token}`, 'info');

            try {
                const response = await fetch('/api/getYandexData', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ token })
                });

                log(`–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: ${response.status} ${response.statusText}`, 'info');

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    log(`–û—à–∏–±–∫–∞ API: ${JSON.stringify(errorData, null, 2)}`, 'error');
                    return;
                }

                const data = await response.json();
                log('–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç API!', 'success');
                log(`–ü–æ–ª—É—á–µ–Ω–æ —Ç—Ä–µ–∫–æ–≤: ${data.tracks?.length || 0}`, 'success');
                
                if (data.tracks && data.tracks.length > 0) {
                    log(`–ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–∫–∞: ${JSON.stringify(data.tracks[0], null, 2)}`, 'info');
                }

                updateResults(data);

            } catch (error) {
                log(`–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: ${error.message}`, 'error');
            }
        }

        async function testDirectAPI() {
            const token = document.getElementById('tokenInput').value.trim();
            if (!token) {
                log('–û—à–∏–±–∫–∞: –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω', 'error');
                return;
            }

            log('–ù–∞—á–∏–Ω–∞–µ–º –ø—Ä—è–º–æ–π —Ç–µ—Å—Ç Yandex Music API...', 'info');
            log('–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ—Ç —Ç–µ—Å—Ç –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ CORS –ø–æ–ª–∏—Ç–∏–∫–∏', 'warning');

            try {
                const headers = {
                    'Authorization': `OAuth ${token}`,
                    'User-Agent': 'Yandex-Music-API/1.0',
                    'Content-Type': 'application/json'
                };

                // –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
                log('–¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏...', 'info');
                const userResponse = await fetch('https://api.music.yandex.net/account/status', {
                    method: 'GET',
                    headers: headers
                });

                log(`–°—Ç–∞—Ç—É—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: ${userResponse.status}`, userResponse.ok ? 'success' : 'error');

                if (!userResponse.ok) {
                    const errorText = await userResponse.text().catch(() => '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏');
                    log(`–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: ${errorText}`, 'error');
                    return;
                }

                const userData = await userResponse.json();
                const userId = userData.result?.account?.uid;
                log(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID: ${userId}`, 'success');

                if (!userId) {
                    log('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                    return;
                }

                // –¢–µ—Å—Ç 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∞–π–∫–Ω—É—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤
                log('–¢–µ—Å—Ç 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∞–π–∫–Ω—É—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤...', 'info');
                const likesResponse = await fetch(`https://api.music.yandex.net/users/${userId}/likes/tracks`, {
                    method: 'GET',
                    headers: headers
                });

                log(`–°—Ç–∞—Ç—É—Å –ª–∞–π–∫–æ–≤: ${likesResponse.status}`, likesResponse.ok ? 'success' : 'error');

                if (!likesResponse.ok) {
                    const errorText = await likesResponse.text().catch(() => '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏');
                    log(`–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–∞–π–∫–æ–≤: ${errorText}`, 'error');
                    return;
                }

                const likesData = await likesResponse.json();
                const trackIds = likesData.result?.library?.tracks?.map(track => track.id) || [];
                log(`–ù–∞–π–¥–µ–Ω–æ –ª–∞–π–∫–Ω—É—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤: ${trackIds.length}`, 'success');

                if (trackIds.length === 0) {
                    log('–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ª–∞–π–∫–Ω—É—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤', 'info');
                    return;
                }

                // –¢–µ—Å—Ç 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–µ–∫–∞—Ö
                log('–¢–µ—Å—Ç 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–µ–∫–∞—Ö...', 'info');
                const testTrackIds = trackIds.slice(0, 5);
                
                const tracksResponse = await fetch('https://api.music.yandex.net/tracks', {
                    method: 'POST',
                    headers: headers,
                    body: JSON.stringify({
                        'track-ids': testTrackIds,
                        'with-positions': false
                    })
                });

                log(`–°—Ç–∞—Ç—É—Å —Ç—Ä–µ–∫–æ–≤: ${tracksResponse.status}`, tracksResponse.ok ? 'success' : 'error');

                if (!tracksResponse.ok) {
                    const errorText = await tracksResponse.text().catch(() => '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏');
                    log(`–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–µ–∫–æ–≤: ${errorText}`, 'error');
                    return;
                }

                const tracksData = await tracksResponse.json();
                const tracks = tracksData.result || [];
                log(`–ü–æ–ª—É—á–µ–Ω–æ —Ç—Ä–µ–∫–æ–≤: ${tracks.length}`, 'success');

                if (tracks.length > 0) {
                    const availableCount = tracks.filter(t => t.available).length;
                    const unavailableCount = tracks.filter(t => !t.available).length;
                    
                    log(`–î–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤: ${availableCount}`, 'success');
                    log(`–ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤: ${unavailableCount}`, unavailableCount > 0 ? 'warning' : 'info');

                    const track = tracks[0];
                    log(`–ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–∫–∞:`, 'info');
                    log(`- ID: ${track.id}`, 'info');
                    log(`- –ù–∞–∑–≤–∞–Ω–∏–µ: ${track.title}`, 'info');
                    log(`- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: ${track.artists?.map(a => a.name).join(', ')}`, 'info');
                    log(`- –î–æ—Å—Ç—É–ø–µ–Ω: ${track.available}`, track.available ? 'success' : 'warning');
                    log(`- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: ${JSON.stringify(track, null, 2)}`, 'info');
                }

            } catch (error) {
                log(`–û—à–∏–±–∫–∞ –ø—Ä—è–º–æ–≥–æ —Ç–µ—Å—Ç–∞: ${error.message}`, 'error');
                log('–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:', 'warning');
                log('1. CORS –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ music.yandex.ru)', 'warning');
                log('2. –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω', 'warning');
                log('3. –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é', 'warning');
            }
        }

        function runBrowserTest() {
            log('–ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞...', 'info');
            log('–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ music.yandex.ru:', 'info');
            
            const testCode = `
// –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ç–µ—Å—Ç Yandex Music API
async function testYandexMusicAPI() {
    console.log('üéµ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Yandex Music API –≤ –±—Ä–∞—É–∑–µ—Ä–µ');
    const token = 'available';
    const headers = {
        'Authorization': \`OAuth \${token}\`,
        'User-Agent': 'Yandex-Music-API/1.0',
        'Content-Type': 'application/json'
    };

    try {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        const userResponse = await fetch('https://api.music.yandex.net/account/status', {
            method: 'GET', headers: headers
        });
        console.log('–°—Ç–∞—Ç—É—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:', userResponse.status);
        
        if (userResponse.ok) {
            const userData = await userResponse.json();
            const userId = userData.result?.account?.uid;
            console.log('User ID:', userId);
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∞–π–∫–æ–≤
            const likesResponse = await fetch(\`https://api.music.yandex.net/users/\${userId}/likes/tracks\`, {
                method: 'GET', headers: headers
            });
            
            if (likesResponse.ok) {
                const likesData = await likesResponse.json();
                const trackIds = likesData.result?.library?.tracks?.map(track => track.id) || [];
                console.log('–ù–∞–π–¥–µ–Ω–æ –ª–∞–π–∫–Ω—É—Ç—ã—Ö —Ç—Ä–µ–∫–æ–≤:', trackIds.length);
                
                if (trackIds.length > 0) {
                    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–µ–∫–∞—Ö
                    const tracksResponse = await fetch('https://api.music.yandex.net/tracks', {
                        method: 'POST', headers: headers,
                        body: JSON.stringify({'track-ids': trackIds.slice(0, 5), 'with-positions': false})
                    });
                    
                    if (tracksResponse.ok) {
                        const tracksData = await tracksResponse.json();
                        const tracks = tracksData.result || [];
                        console.log('–ü–æ–ª—É—á–µ–Ω–æ —Ç—Ä–µ–∫–æ–≤:', tracks.length);
                        console.log('–î–æ—Å—Ç—É–ø–Ω—ã—Ö:', tracks.filter(t => t.available).length);
                        console.log('–ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö:', tracks.filter(t => !t.available).length);
                        console.log('–ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–∫–∞:', tracks[0]);
                    }
                }
            }
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
    }
}

// –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
testYandexMusicAPI();
            `;
            
            log(testCode, 'info');
            
            // –ö–æ–ø–∏—Ä—É–µ–º –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
            if (navigator.clipboard) {
                navigator.clipboard.writeText(testCode.trim()).then(() => {
                    log('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
                }).catch(() => {
                    log('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏', 'warning');
                });
            }
        }

        function updateResults(data) {
            const resultsDiv = document.getElementById('results');
            const tracksCount = data.tracks?.length || 0;
            const tracksWithPreview = data.tracks?.filter(t => t.preview_url)?.length || 0;
            
            resultsDiv.innerHTML = `
                <h4>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                <p><strong>–í—Å–µ–≥–æ —Ç—Ä–µ–∫–æ–≤:</strong> ${tracksCount}</p>
                <p><strong>–° –ø—Ä–µ–≤—å—é:</strong> ${tracksWithPreview}</p>
                <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫:</strong> ${data.metadata?.source || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}</p>
                <p><strong>–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</strong> ${data.metadata?.generated_at || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}</p>
                
                ${tracksCount > 0 ? `
                    <h4>üéµ –ü—Ä–∏–º–µ—Ä—ã —Ç—Ä–µ–∫–æ–≤</h4>
                    ${data.tracks.slice(0, 3).map(track => `
                        <div style="background: #333; padding: 10px; margin: 5px 0; border-radius: 5px;">
                            <strong>${track.title}</strong> - ${track.artist}<br>
                            <small>–ê–ª—å–±–æ–º: ${track.album} | –ñ–∞–Ω—Ä: ${track.genre} | –î–æ—Å—Ç—É–ø–µ–Ω: ${track.available ? '‚úÖ' : '‚ùå'}</small>
                        </div>
                    `).join('')}
                ` : '<p>‚ùå –¢—Ä–µ–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>'}
            `;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.', 'success');
            log('–¢–µ–∫—É—â–∏–π –¥–æ–º–µ–Ω: ' + window.location.hostname, 'info');
            
            if (window.location.hostname !== 'music.yandex.ru' && window.location.hostname !== 'localhost') {
                log('–í–ù–ò–ú–ê–ù–ò–ï: –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ music.yandex.ru', 'warning');
            }
        });
    </script>
</body>
</html>