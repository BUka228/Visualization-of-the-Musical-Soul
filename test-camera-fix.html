<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã - Music Galaxy 3D</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            color: #fff;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        #instructions {
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            max-width: 300px;
        }
        
        .highlight {
            color: #00ff00;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="info">
            <div>üîÆ Music Galaxy 3D - –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã</div>
            <div>–°—Ç–∞—Ç—É—Å: <span id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div>
            <div>–ö–∞–º–µ—Ä–∞: <span id="camera-status">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</span></div>
        </div>
        
        <div id="instructions">
            <div class="highlight">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:</div>
            <div>1. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤</div>
            <div>2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π –∫—Ä–∏—Å—Ç–∞–ª–ª</div>
            <div>3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞–º–µ—Ä–∞ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –∏ –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è</div>
            <div>4. –ù–∞–∂–º–∏—Ç–µ R –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫–∞–º–µ—Ä—ã</div>
            <div>5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º—ã—à—å –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è</div>
        </div>
    </div>

    <script src="dist/bundle.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', async () => {
            const container = document.getElementById('container');
            const statusElement = document.getElementById('status');
            const cameraStatusElement = document.getElementById('camera-status');
            
            try {
                statusElement.textContent = '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...';
                
                // –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                const app = new window.MusicGalaxy3D.Application(container, {
                    cameraDistance: 50,
                    enableShadows: true,
                    enableEffects: true
                });
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                await app.initialize();
                statusElement.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...';
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                await app.loadData();
                statusElement.textContent = '–ì–æ—Ç–æ–≤–æ!';
                
                // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–º–µ—Ä—ã
                const sceneManager = app.getSceneManager();
                const cameraController = sceneManager.getCinematicCameraController();
                
                setInterval(() => {
                    if (cameraController) {
                        const isFocused = cameraController.isFocused();
                        const isAnimating = cameraController.isCameraAnimating();
                        const focusedCrystal = cameraController.getFocusedCrystal();
                        
                        let status = '–°–≤–æ–±–æ–¥–Ω–∞—è';
                        if (isAnimating) {
                            status = '–ê–Ω–∏–º–∞—Ü–∏—è...';
                        } else if (isFocused && focusedCrystal) {
                            status = `–§–æ–∫—É—Å: ${focusedCrystal.name}`;
                        }
                        
                        cameraStatusElement.textContent = status;
                    }
                }, 100);
                
                console.log('‚úÖ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é');
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
                statusElement.textContent = `–û—à–∏–±–∫–∞: ${error.message}`;
            }
        });
    </script>
</body>
</html>