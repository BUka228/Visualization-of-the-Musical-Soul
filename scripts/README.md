# Yandex Music Data Collector

Этот скрипт собирает данные о ваших лайкнутых треках из Яндекс.Музыки и сохраняет их в JSON-файл для использования в 3D-визуализации.

## Установка зависимостей

```bash
pip install -r requirements.txt
```

## Получение токена

1. Откройте [music.yandex.ru](https://music.yandex.ru) в браузере
2. Войдите в свой аккаунт
3. Откройте DevTools (F12)
4. Перейдите на вкладку **Application** → **Cookies**
5. Найдите cookie с именем `Session_id`
6. Скопируйте его значение

## Запуск скрипта

```bash
python scripts/collect_yandex_music_data.py
```

Скрипт запросит у вас токен и начнет сбор данных.

## Выходные данные

Скрипт создает файл `src/data/music_data.json` со следующей структурой:

```json
{
  "metadata": {
    "total_tracks": 150,
    "generated_at": "2024-01-01T12:00:00.000Z",
    "source": "Yandex Music API"
  },
  "tracks": [
    {
      "id": "12345",
      "title": "Название трека",
      "artist": "Исполнитель",
      "album": "Альбом",
      "duration": 180,
      "genre": "rock",
      "cover_url": "https://...",
      "preview_url": "https://...",
      "available": true
    }
  ]
}
```

## Обработка ошибок

Скрипт автоматически обрабатывает:
- Недоступные треки
- Треки без превью
- Ошибки сети
- Невалидные токены

## Тестирование

Для проверки работоспособности запустите:

```bash
python scripts/test_script.py
```

## Примечания

- Данные кэшируются в localStorage браузера на 24 часа
- Скрипт использует неофициальное API Яндекс.Музыки
- Для получения превью треков может потребоваться время
- Некоторые треки могут быть недоступны из-за ограничений правообладателей